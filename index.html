<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <button id="rock">ROCK</button>
    <button id="paper">PAPER</button>
    <button id="scissors">SCISSORS</button>
    <p id="result"></p>
    <p>
      Player: <span id="player">0</span> Computer: <span id="computer">0</span>
    </p>
    <script>
      let playerScore = 0;
      let computerScore = 0;
      let winner = "";
      const WIN_SCORE = 3;

      // Function to generate computer's choice.
      function computerChoice() {
        const choices = ["rock", "paper", "scissors"];
        return choices[Math.floor(Math.random() * choices.length)];
      }

      // Function to start the game.
      function startGame(player) {
        const computer = computerChoice();
        let displayRound = "";

        if (player === computer) {
          displayRound = "TIE!";
        } else if (
          (player === "rock" && computer === "scissors") ||
          (player === "paper" && computer === "rock") ||
          (player === "scissors" && computer === "paper")
        ) {
          displayRound = "PLAYER WINS!";
          playerScore++;
        } else {
          displayRound = "COMPUTER WINS!";
          computerScore++;
        }

        //Display the current scores.
        document.querySelector("#result").textContent = displayRound;
        document.querySelector("#player").textContent = playerScore;
        document.querySelector("#computer").textContent = computerScore;

        if (playerScore === WIN_SCORE || computerScore === WIN_SCORE) {
          if (playerScore === WIN_SCORE) {
            winner = "Player";
          } else {
            winner = "Computer";
          }
          document.querySelector(
            "#result"
          ).textContent = `GAME OVER! ${winner} wins the game!`;
          resetGame();
        }
      }

      // Function to reset the game.
      function resetGame() {
        playerScore = 0;
        computerScore = 0;
        winner = "";
      }

      // Event listeners for buttons.
      const rock = document.querySelector("#rock");
      const paper = document.querySelector("#paper");
      const scissors = document.querySelector("#scissors");

      rock.addEventListener("click", function () {
        startGame("rock");
      });
      paper.addEventListener("click", function () {
        startGame("paper");
      });
      scissors.addEventListener("click", function () {
        startGame("scissors");
      });
    </script>
  </body>
</html>
